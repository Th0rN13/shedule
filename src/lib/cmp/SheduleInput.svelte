<script lang="ts">
	import { schedulesStore } from '$lib/stores/schedule';

	interface PropType {
		label: string;
		text: string;
		enabled: boolean;
		idx: number;
	}

	let { label, text, enabled, idx }: PropType = $props();

	function change() {
		schedulesStore.updateText(text, idx);
	}

	function toggle() {
		schedulesStore.updateToggle(idx);
	}

	function clear() {
		text = '';
		change();
	}
</script>

<label class="schedule-item">
	<div class="schedule-label">{label}</div>

	<input
		type="text"
		class="schedule-input"
		bind:value={text}
		placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."
		onchange={change}
	/>
	<div class="schedule-actions">
		<button class="icon-btn save" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å" onclick={toggle}>
			{#if enabled}
				‚úÖ
			{:else}
				‚ùå
			{/if}
		</button>
		<button class="icon-btn delete" title="–û—á–∏—Å—Ç–∏—Ç—å" onclick={clear}>üóëÔ∏è</button>
	</div>
</label>
